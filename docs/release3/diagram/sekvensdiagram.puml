@startuml

package "Core" {
  class Treatment {
    - name: String
    - price: double
    - duration: int
    + getName(): String
    + getPrice(): double
    + getDuration(): int
  }

  class PriceCalculator {
    + calculateTotalPrice(treatments: List<Treatment>): double
  }

  class TimeSlot {
    - startTime: LocalDateTime
    - booked: boolean
    + book(): void
    + isBooked(): boolean
    + getStartTime(): LocalDateTime
  }

  class WeeklyTimeSlots {
    - timeSlots: List<TimeSlot>
    + getAllTimeSlots(): List<TimeSlot>
    + bookSlot(startTime: LocalDateTime): void
  }
}

package "Backend" {
  class BookingService {
    - weeklyTimeSlots: WeeklyTimeSlots
    + bookAppointment(startTime: LocalDateTime): boolean
  }

  class TreatmentService {
    - repository: TreatmentRepository
    + getAllTreatments(): List<Treatment>
  }

  class TreatmentRepository {
    {abstract} + getAllTreatments(): List<Treatment>
  }

  class RestBookingController {
    + bookTimeSlot(startTime: String): Response
  }

  class RestTreatmentController {
    + getTreatments(): Response
  }
}

package "UI" {
  class HairdresserApp {
    + main(args: String[]): void
  }

  class BookingController {
    - bookingService: FrontBookingService
    + bookAppointment(): void
  }

  class TreatmentController {
    - treatmentService: FrontTreatmentService
    + initialize(): void
    + handleBookingButton(): void
  }
}

BookingService -> WeeklyTimeSlots : "uses"
BookingService -> TimeSlot : "uses"
TreatmentService -> TreatmentRepository : "uses"
TreatmentService -> Treatment : "uses"

PriceCalculator -> Treatment : "uses"
WeeklyTimeSlots -> TimeSlot : "contains"
RestBookingController -> BookingService : "uses"
RestTreatmentController -> TreatmentService : "uses"

BookingController -> BookingService : "uses"
TreatmentController -> TreatmentService : "uses"

HairdresserApp -> BookingController
HairdresserApp -> TreatmentController

@enduml
